--SQLite query for com.apple.routined - Cache.Sqlite ZRTCLLOCATIONMO Table
--Database can be located at /private/var/mobile/Library/Caches/com.apple.routined/Cache.sqlite
--This query has original data and calculated Accuracy and Speeds
--By: Scott Koenig bskoenig3347@gmail.com
--Twitter: @Scott_Kjr
--Reminder to always test and validate!	

SELECT
	DateTime ( ZRTCLLOCATIONMO.ZTIMESTAMP + 978307200, 'UNIXEPOCH' ) AS 'ZRTCLLOCATIONMO-Timestamp in UTC',
	DateTime ( ZRTCLLOCATIONMO.ZTIMESTAMP + 978307200, 'UNIXEPOCH', 'localtime' ) AS 'ZRTCLLOCATIONMO-Timestamp Local Time',
	ZRTCLLOCATIONMO.ZLATITUDE AS 'ZRTCLLOCATIONMO-Latitude',
	ZRTCLLOCATIONMO.ZLONGITUDE AS 'ZRTCLLOCATIONMO-Longitude',
	ZRTCLLOCATIONMO.ZHORIZONTALACCURACY AS 'ZRTCLLOCATIONMO-Accuracy in Meters',
	ZRTCLLOCATIONMO.ZHORIZONTALACCURACY * 3.28084 AS 'ZRTCLLOCATIONMO-Accuracy in Feet',
CASE
		ZRTCLLOCATIONMO.ZSPEED 
		WHEN - 1 THEN
		'-1' ELSE ZRTCLLOCATIONMO.ZSPEED 
	END AS 'ZRTCLLOCATIONMO-Speed Meters per Sec',
	ZRTCLLOCATIONMO.ZSPEED * 2.23694 AS 'ZRTCLLOCATIONMO-Speed Miles Per Hour',
CASE
		ZRTCLLOCATIONMO.ZCOURSE 
		WHEN - 1 THEN
		'-1' ELSE ZRTCLLOCATIONMO.ZCOURSE 
	END AS 'ZRTCLLOCATIONMO-Course',
CASE
		ZRTCLLOCATIONMO.ZVERTICALACCURACY 
		WHEN - 1 THEN
		'-1' ELSE ZRTCLLOCATIONMO.ZVERTICALACCURACY 
	END AS 'ZRTCLLOCATIONMO-Vertical Accuracy in Meters',
	ZRTCLLOCATIONMO.Z_PK AS 'ZRTCLLOCATIONMO-zPK'
FROM
	ZRTCLLOCATIONMO
--WHERE ZRTCLLOCATIONMO.ZTIMESTAMP BETWEEN '#####' AND '#####'
--WHERE ZRTCLLOCATIONMO.ZHORIZONTALACCURACY < 65
--WHERE ZRTCLLOCATIONMO.ZHORIZONTALACCURACY < 65 AND ZRTCLLOCATIONMO.ZTIMESTAMP BETWEEN '#####' AND '#####'
ORDER BY
	ZRTCLLOCATIONMO.ZTIMESTAMP
